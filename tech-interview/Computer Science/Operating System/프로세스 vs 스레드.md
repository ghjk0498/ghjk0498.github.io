# 프로세스와 스레드의 차이점

## ❓ 면접 질문
"프로세스와 스레드의 차이점을 설명해주세요"

## ✅ 핵심 답변

### 기본 개념

**프로세스(Process)**
- 실행 중인 프로그램의 인스턴스
- 독립적인 메모리 공간을 가짐 (Code, Data, Heap, Stack)
- 프로세스 간 통신은 IPC 필요

**스레드(Thread)**
- 프로세스 내에서 실행되는 실행 단위
- 같은 프로세스 내 스레드들은 메모리 공간 공유 (Code, Data, Heap 공유, Stack만 독립)
- 가벼운 프로세스(Light Weight Process)라고도 함

### 메모리 구조 차이점

```
프로세스 A        프로세스 B
┌─────────┐      ┌─────────┐
│  Code   │      │  Code   │
├─────────┤      ├─────────┤
│  Data   │      │  Data   │
├─────────┤      ├─────────┤
│  Heap   │      │  Heap   │
├─────────┤      ├─────────┤
│ Stack   │      │ Stack   │
└─────────┘      └─────────┘

프로세스 내 멀티스레드
┌─────────────────┐
│      Code       │ ← 공유
├─────────────────┤
│      Data       │ ← 공유
├─────────────────┤
│      Heap       │ ← 공유
├────────┬────────┤
│Stack T1│Stack T2│ ← 독립
└────────┴────────┘
```

### 주요 차이점

| 구분 | 프로세스 | 스레드 |
|------|----------|--------|
| **메모리** | 독립적인 메모리 공간 | 메모리 공간 공유 (Stack만 독립) |
| **통신** | IPC (파이프, 소켓 등) | 직접적인 메모리 공유 |
| **생성 비용** | 높음 | 낮음 |
| **컨텍스트 스위칭** | 느림 (PCB 전체 교체) | 빠름 (레지스터와 스택만 교체) |
| **안정성** | 높음 (독립적) | 낮음 (하나 죽으면 전체 영향) |

### 면접 답변 템플릿

**"프로세스는 실행 중인 프로그램으로 독립적인 메모리 공간을 가지며, 스레드는 프로세스 내에서 실행되는 단위로 메모리 공간을 공유합니다. 주요 차이점은 메모리 독립성, 컨텍스트 스위칭 비용, 통신 방법입니다."**

## 📚 참고할만한 정보

### 컨텍스트 스위칭 상세
- **프로세스**: PCB(Process Control Block) 전체 교체, 메모리 매핑 변경, TLB 플러시
- **스레드**: 레지스터와 스택 포인터만 교체, 메모리 매핑은 그대로 유지

### 실무 예시
```java
// 프로세스 생성 (별도 JVM)
ProcessBuilder pb = new ProcessBuilder("java", "AnotherProgram");
Process process = pb.start();

// 스레드 생성 (같은 JVM 내)
Thread thread = new Thread(() -> {
    System.out.println("스레드 실행");
});
thread.start();
```

### 관련 개념
- **PCB(Process Control Block)**: 프로세스 상태 정보 저장
- **TCB(Thread Control Block)**: 스레드 상태 정보 저장
- **TLB(Translation Lookaside Buffer)**: 가상 주소를 물리 주소로 변환하는 캐시

---

## 🏷️ 태그
`#프로세스` `#스레드` `#메모리구조` `#컨텍스트스위칭` `#IPC`
