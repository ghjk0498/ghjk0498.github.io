# 프로세스와 스레드의 차이점

## ❓ 면접 질문
"프로세스와 스레드의 차이점에 대해 설명해주세요."

## ✅ 핵심 답변

### 개념 정리
**프로세스(Process)**는 실행 중인 프로그램의 인스턴스로, 독립적인 메모리 공간을 가지며 운영체제로부터 자원을 할당받는 작업의 단위입니다.

**스레드(Thread)**는 프로세스 내에서 실행되는 여러 흐름의 단위로, 프로세스의 자원을 공유하면서 독립적으로 실행되는 경량 프로세스입니다.

### 상세 설명

#### 메모리 구조의 차이
```text
프로세스 메모리 구조:
┌─────────────┐
│    Code     │ ← 독립적
│    Data     │ ← 독립적  
│    Heap     │ ← 독립적
│    Stack    │ ← 독립적
└─────────────┘

스레드 메모리 구조:
┌─────────────┐
│    Code     │ ← 공유
│    Data     │ ← 공유
│    Heap     │ ← 공유
├─────────────┤
│   Stack 1   │ ← 독립적
│   Stack 2   │ ← 독립적
│   Stack 3   │ ← 독립적
└─────────────┘
```

#### 주요 차이점 비교

| 구분 | 프로세스 | 스레드 |
|------|----------|--------|
| **메모리 공간** | 독립적 (Code, Data, Heap, Stack 모두 분리) | 공유 (Code, Data, Heap 공유, Stack만 독립) |
| **통신 방법** | IPC (파이프, 소켓, 공유메모리 등) | 공유 메모리를 통한 직접 통신 |
| **생성 비용** | 높음 (새로운 메모리 공간 할당) | 낮음 (기존 프로세스 자원 활용) |
| **컨텍스트 스위칭** | 무거움 (메모리 관리 단위 변경) | 가벼움 (레지스터, 스택만 변경) |
| **안정성** | 높음 (다른 프로세스에 영향 없음) | 낮음 (한 스레드 오류가 전체에 영향) |
| **독립성** | 완전히 독립적 | 프로세스 내에서 의존적 |

### 면접 답변 템플릿
"프로세스와 스레드의 가장 큰 차이점은 **메모리 공간의 독립성**입니다. 

프로세스는 각각 독립된 메모리 공간을 가지고 있어서 서로 간섭하지 않지만, 프로세스 간 통신을 위해서는 IPC라는 별도의 메커니즘이 필요합니다. 

반면 스레드는 같은 프로세스 내에서 메모리 공간을 공유하기 때문에 데이터 공유가 쉽고 생성 비용이 적지만, 하나의 스레드에서 문제가 발생하면 전체 프로세스에 영향을 줄 수 있습니다.

따라서 **안정성이 중요한 경우에는 멀티프로세싱**을, **성능과 자원 효율성이 중요한 경우에는 멀티스레딩**을 선택하는 것이 일반적입니다."

## 📚 참고할만한 정보

### 심화 개념

#### 컨텍스트 스위칭 비용
```text
프로세스 컨텍스트 스위칭:
1. 현재 프로세스 상태 저장 (PCB)
2. 메모리 관리 단위 변경 (페이지 테이블)
3. 캐시 메모리 플래시
4. 새 프로세스 상태 복원

스레드 컨텍스트 스위칭:
1. 현재 스레드 상태 저장 (TCB)
2. 레지스터와 스택 포인터만 변경
3. 메모리 공간은 그대로 유지
```

#### 동기화 이슈
- **프로세스**: 독립적이므로 동기화 문제 적음
- **스레드**: 공유 자원 접근 시 race condition, deadlock 등 발생 가능

### 실무 예시

#### 웹 서버 구조
```text
Apache (멀티프로세스):
Master Process
├── Worker Process 1
├── Worker Process 2  
└── Worker Process 3

Nginx (이벤트 기반 + 멀티프로세스):
Master Process
├── Worker Process 1
│   ├── Thread 1
│   ├── Thread 2
│   └── Thread 3
└── Worker Process 2
```

#### 프로그래밍 언어별 특징
- **Java**: JVM 위에서 스레드 기반 동시성
- **Python**: GIL로 인한 제한적 멀티스레딩
- **Go**: 고루틴을 통한 경량 스레드
- **Node.js**: 단일 스레드 + 이벤트 루프

### 관련 기술
- **동시성(Concurrency) vs 병렬성(Parallelism)**
- **스레드 풀(Thread Pool)**
- **코루틴(Coroutine)**
- **액터 모델(Actor Model)**

## 💡 면접 팁
- 단순히 개념만 설명하지 말고 **실제 사용 사례**를 들어 설명
- **메모리 구조를 그림으로** 설명할 수 있으면 더욱 효과적
- **성능과 안정성의 트레이드오프** 관점에서 접근
- **본인이 사용한 기술 스택과 연결**하여 설명

## 🏷️ 태그
`#운영체제` `#프로세스` `#스레드` `#동시성` `#메모리관리` `#컨텍스트스위칭` `#멀티프로세싱` `#멀티스레딩`
